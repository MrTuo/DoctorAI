{% load staticfiles %}
<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="wuwujun">

    <title>医疗诊断系统</title>
    <link rel="stylesheet" type="text/css" href="{% static 'AiServer/css/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'AiServer/css/font-awesome.min.css' %}">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Catamaran:800,300,100">
    <link rel='stylesheet' href='{% static 'AiServer/css/login_mb.css' %}'>
    <link rel='stylesheet' href='{% static 'AiServer/css/index_mb.css' %}'>
    <link rel="stylesheet" href="{% static 'AiServer/css/bootstrapValidator.min.css' %}">

      <style type="text/css">
        .has-error .help-block {
            color: #FFE869;
        }
      </style>

  </head>
  <body>
    <header>
      <nav class="navbar navbar-default navbar-fixed-top my-navbar" role="navigation">
        <div class="container-fluid container">
          <div class="navbar-header">
            <span class="navbar-brand">医疗诊断辅助系统</span>
          </div>
        </div>
      </nav>
    </header>
     <div class="wrapper" style="background: #333 url('{%static 'AiServer/img/index.jpg' %}') no-repeat center center fixed;">
      <div class="overlay"></div>
      <div class="content-container">
        <div class="logsign-header">
        </div>
        <div class="logsign-content">
          <form id="signup-form" action="." method="post" onsubmit="return checkPass()">
            <fieldset>
              <legend>
                注册
              </legend>
              <ol>
                <li>
                  <div class="form-group">
                    <span class="input-icon"><i class="fa fa-user" aria-hidden="true"></i></span>
                    <input type="text" id="email" class="form-control" name="username"
                           tabindex="1" placeholder="用户名，仅含字母/数字" pattern="[0-9a-zA-Z]+" autofocus required/>
                      {% if er_msg %}
                    <small id="helpSign" class="help-block"
                           style="color:#FFE869;">{{ er_msg }}</small>
                      {% endif %}
                  </div>
                </li>
                <li>
                  <div class="form-group">
                    <span class="input-icon"><i class="fa fa-lock" aria-hidden="true"></i></span>
                    <input type="password" id="pass" class="form-control" name="password"
                           tabindex="2" placeholder="密码6-9位，仅含字母/数字" pattern="[0-9a-zA-Z]+"
                           minlength="6" maxlength="9" required/>
                  </div>
                </li>
                <li>
                  <div class="form-group">
                    <span class="input-icon"><i class="fa fa-lock" aria-hidden="true"></i></span>
                    <input type="password" id="ensurepass" class="form-control" name="password2"
                           tabindex="3" placeholder="确认密码" minlength="6" maxlength="9"
                           pattern="[0-9a-zA-Z]+" required
                           onchange="checkPass()" />
                      <small id="helpPass" class="help-block"
                             style="color:#FFE869; display: none;">两次输入的密码不一致</small>
                  </div>
                </li>
              </ol>
            </fieldset>
            <button id="submitBtn" class="btn btn-md my-btn-log my-btn-full" type="submit">注册</button>
          </form>
          <div class="signup-choice-info">
            <p>
              已有账号?<a href="/login/">欢迎登录</a>
            </p>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="{% static 'AiServer/js/jquery-2.1.4.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'AiServer/js/bootstrap.min.js' %}"></script>
    <script>

        function checkPass() {
          var pass = document.getElementById('pass').value;
          var ensurepass = document.getElementById('ensurepass').value;
          var help = document.getElementById('helpPass');
          var submitBtn = document.getElementById('submitBtn');
          if (pass != ensurepass) {
            help.style.display = 'inline';
            return false;
          } else {
            help.style.display = 'none';
            return true;
          }
        }

    </script>
  </body>
</html>
